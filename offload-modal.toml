# offload configuration for Modal execution

[offload]
max_parallel = 4
test_timeout_secs = 600
retry_count = 2
stream_output = true

[provider]
type = "modal"
app_name = "offload-sandbox"
image_type = { dockerfile = ".devcontainer/Dockerfile" }
timeout_secs = 600

[groups.unit]
type = "pytest"
paths = ["examples/tests"]
markers = "not slow"
python = "uv"
extra_args = ["run", "--with=pytest"]

[groups.slow]
type = "pytest"
paths = ["examples/tests"]
markers = "slow"
python = "uv"
extra_args = ["run", "--with=pytest"]

[report]
output_dir = "test-results"
junit = true
junit_file = "junit.xml"
