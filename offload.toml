# offload configuration file
# Example configuration using the process provider with pytest

[offload]
max_parallel = 4
test_timeout_secs = 300
retry_count = 4

[provider]
type = "default"
prepare_command = "uv run @modal_sandbox.py prepare"
create_command = "uv run @modal_sandbox.py create-from-image {image_id}"
exec_command = "uv run @modal_sandbox.py exec {sandbox_id} {command}"
destroy_command = "uv run @modal_sandbox.py destroy {sandbox_id}"
timeout_secs = 600

[groups.group_a]
type = "pytest"
paths = ["examples/tests"]
markers = "group_a"
python = "python3"

[groups.group_b]
type = "pytest"
paths = ["examples/tests"]
markers = "group_b"
python = "python3"

[report]
output_dir = "test-results"
