# shotgun configuration for Modal execution

[shotgun]
max_parallel = 4
test_timeout_secs = 600
retry_count = 2
stream_output = true

[provider]
type = "default"
create_command = "uv run --with=modal scripts/modal-create.py"
exec_command = "uv run --with=modal scripts/modal-exec.py {sandbox_id} {command}"
destroy_command = "uv run --with=modal scripts/modal-destroy.py {sandbox_id}"
timeout_secs = 600

[groups.unit.framework]
type = "pytest"
paths = ["examples/tests"]
markers = "not slow"
python = "python3"

[groups.slow.framework]
type = "pytest"
paths = ["examples/tests"]
markers = "slow"
python = "python3"

[report]
output_dir = "test-results"
junit = true
junit_file = "junit.xml"
